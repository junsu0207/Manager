<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mybatis.codeMng">
	<select id="codeMngList" resultType="codeMngDTO">
		SELECT
		CDNO
		,CDLVL
		,UPCD
		,LPAD(' ', 5*(RN-1)) || CDNAME CDNAME
		,USEYN
		FROM
		(
		SELECT
		DENSE_RANK() OVER(ORDER BY CDLVL) RN
		,CODEMNG.*
		FROM CODEMNG
		)
		START WITH UPCD='C0000'
		CONNECT BY PRIOR CDNO = UPCD 
		ORDER SIBLINGS BY UPCD
	</select>
	
	
</mapper>